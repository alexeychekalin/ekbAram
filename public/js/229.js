"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[229],{4229:(t,a,e)=>{e.r(a),e.d(a,{default:()=>i});const s={name:"AllProvider",data:function(){return{name:"",address:"",address1:"",address2:"",tradename:"",email:"",fax:"",phone:"",contact:"",results:[],allresults:[],val:"",id:"",fields:{ID:"id","P/N":"pn",Описание:"description"}}},methods:{getProvider:function(){var t=this;axios.get("/api/provider").then((function(a){t.$data.results=a.data,t.$data.allresults=a.data}))},filter:function(t){var a,e=this;if(""===t)this.results=this.allresults;else{this.results=this.allresults;this.results=(a=t,e.$data.results.filter((function(t){return t.name.toLowerCase().indexOf(a.toLowerCase())>-1})))}},show:function(t){UIkit.modal("#modal-change").show(),this.name=t[1],this.address=t[2],this.address1=t[3],this.address2=t[4],this.email=t[5],this.fax=t[6],this.phone=t[7],this.contact=t[8],this.id=t[0],this.tradename=t[9]},updateProvider:function(t){var a=this;axios.post("/api/provider/update",{id:this.id,name:this.name,address:this.address,address1:this.address1,address2:this.address2,email:this.email,fax:this.fax,phone:this.phone,contact:this.contact,tradename:this.tradename}).then((function(t){UIkit.notification({message:"Поставщик обновлен"}),UIkit.modal("#modal-change").hide()})).catch((function(t){t.response.data;UIkit.notification({message:"Ошибка изменения. Обратитесь к администратору"})})).finally((function(){UIkit.modal("#modal-change").hide(),a.getProvider()}))},deleteProvider:function(t){var a=this;axios.post("/api/provider/delete",{id:t[0],name:"null",address:"null",email:"null"}).then((function(t){UIkit.notification({message:"Поставщик удален"})})).catch((function(t){t.response.data;UIkit.notification({message:"Ошибка удаления. Обратитесь к администратору"})})).finally((function(){UIkit.modal("#modal-change").hide(),a.getProvider()}))}},mounted:function(){this.getProvider()}};const i=(0,e(1900).Z)(s,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"uk-width-1-1 uk-padding uk-padding-remove-top"},[e("h1",{staticClass:"uk-text-center"},[t._v("Список всех поставщиков")]),t._v(" "),e("div",{attrs:{id:"modal-change","uk-modal":""}},[e("div",{staticClass:"uk-modal-dialog uk-modal-body uk-margin-auto-vertical uk-width-3-4"},[e("div",{staticClass:"uk-margin uk-modal-container-large"},[e("h3",{staticClass:"uk-card-title"},[t._v("Редактирование поставщика")]),t._v(" "),e("div",{staticClass:"uk-grid-small",attrs:{"uk-grid":""}},[e("form",{staticClass:"uk-width-1-1",on:{submit:function(a){return a.preventDefault(),t.updateProvider()}}},[e("div",{staticClass:"uk-grid-match uk-child-width-1-1@s",attrs:{"uk-grid":""}},[e("div",[e("div",{staticClass:"uk-card-default uk-card-body"},[e("div",{staticClass:"uk-grid-small",attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-1-2@s"},[e("label",{staticClass:"uk-form-label"},[t._v("Legal Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"uk-input",attrs:{type:"text",required:"",placeholder:"",required:""},domProps:{value:t.name},on:{input:function(a){a.target.composing||(t.name=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"uk-width-1-2@s"},[e("label",{staticClass:"uk-form-label"},[t._v("Trade Name")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.tradename,expression:"tradename"}],staticClass:"uk-input",attrs:{type:"text",placeholder:""},domProps:{value:t.tradename},on:{input:function(a){a.target.composing||(t.tradename=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"uk-grid-small",attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-1-2@s"},[e("label",{staticClass:"uk-form-label"},[t._v("Bill to Address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address,expression:"address"}],staticClass:"uk-input",attrs:{type:"text",placeholder:"",required:""},domProps:{value:t.address},on:{input:function(a){a.target.composing||(t.address=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"uk-width-1-2@s"},[e("label",{staticClass:"uk-form-label"},[t._v("Ship from Address")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.address1,expression:"address1"}],staticClass:"uk-input",attrs:{type:"text",placeholder:""},domProps:{value:t.address1},on:{input:function(a){a.target.composing||(t.address1=a.target.value)}}})])]),t._v(" "),e("div",{staticClass:"uk-grid-small",attrs:{"uk-grid":""}},[e("div",{staticClass:"uk-width-1-4@s"},[e("label",{staticClass:"uk-form-label"},[t._v("E-mail")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"uk-input",attrs:{type:"text",required:"",placeholder:"",required:""},domProps:{value:t.email},on:{input:function(a){a.target.composing||(t.email=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"uk-width-1-4@s"},[e("label",{staticClass:"uk-form-label"},[t._v("Phone")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"uk-input",attrs:{type:"text",placeholder:""},domProps:{value:t.phone},on:{input:function(a){a.target.composing||(t.phone=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"uk-width-1-4@s"},[e("label",{staticClass:"uk-form-label"},[t._v("Fax")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.fax,expression:"fax"}],staticClass:"uk-input",attrs:{type:"text",placeholder:""},domProps:{value:t.fax},on:{input:function(a){a.target.composing||(t.fax=a.target.value)}}})]),t._v(" "),e("div",{staticClass:"uk-width-1-4@s"},[e("label",{staticClass:"uk-form-label"},[t._v("Primary Contact")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.contact,expression:"contact"}],staticClass:"uk-input",attrs:{type:"text",placeholder:""},domProps:{value:t.contact},on:{input:function(a){a.target.composing||(t.contact=a.target.value)}}})])])]),t._v(" "),e("button",{staticClass:"uk-button uk-button-primary uk-width-1-3@m uk-width-1-1@s uk-align-center uk-margin-bottom"},[t._v(" Сохранить ")])])])])])])])]),t._v(" "),e("div",{staticClass:"uk-card-default uk-card-small uk-card-hover"},[e("div",{staticClass:"uk-card-header"},[e("div",{staticClass:"uk-grid uk-grid-small"},[e("div",{staticClass:"uk-width-expand"},[e("div",{staticClass:"uk-inline uk-width-1-1"},[e("span",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"data-uk-icon":"icon: search"}}),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"uk-input uk-width-1-1 search-fld",attrs:{type:"text",placeholder:"Поиск по Имени"},domProps:{value:t.val},on:{input:[function(a){a.target.composing||(t.val=a.target.value)},function(a){return t.filter(t.val)}]}})])])])]),t._v(" "),e("div",{staticClass:"uk-card-body uk-margin-medium-bottom uk-padding-remove-top"},[e("div",{staticClass:"form-container uk-overflow-auto"},[e("table",{staticClass:"uk-table uk-table-hover uk-table-middle uk-table-divider",staticStyle:{"background-color":"white"}},[t._m(0),t._v(" "),t._l(t.results,(function(a,s){return e("tbody",{attrs:{id:a.id}},[e("tr",[e("td",[t._v(t._s(s+1))]),t._v(" "),e("td",[t._v(t._s(a.name||"-"))]),t._v(" "),e("td",[t._v(t._s(a.tradename||"-"))]),t._v(" "),e("td",{staticClass:"uk-text-nowrap"},[t._v(t._s(a.address||"-"))]),t._v(" "),e("td",{staticClass:"uk-text-truncate"},[t._v(t._s(a.address1||"-"))]),t._v(" "),e("td",[t._v(t._s(a.email||"-"))]),t._v(" "),e("td",[t._v(t._s(a.phone||"-"))]),t._v(" "),e("td",[t._v(t._s(a.fax||"-"))]),t._v(" "),e("td",[t._v(t._s(a.contact||"-"))]),t._v(" "),e("td",[e("ul",{staticClass:"uk-iconnav"},[e("li",[e("a",{attrs:{"uk-icon":"icon: file-edit","uk-tooltip":"Редактировать"},on:{click:function(e){return e.preventDefault(),t.show([a.id,a.name,a.address,a.address1,a.address2,a.email,a.phone,a.fax,a.contact,a.tradename])}}})]),t._v(" "),e("li",[e("a",{attrs:{"uk-icon":"icon: trash","uk-tooltip":"title: Удалить; pos: bottom"},on:{click:function(e){return e.preventDefault(),t.deleteProvider([a.id,a.name,a.address,a.email])}}})])])])])])}))],2)])])])])}),[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("th",{staticClass:"uk-table-shrink"},[t._v("#")]),t._v(" "),e("th",{},[t._v("Legal Name")]),t._v(" "),e("th",{},[t._v("Trade Name")]),t._v(" "),e("th",{},[t._v("Bill to Address")]),t._v(" "),e("th",{},[t._v("Ship from Address")]),t._v(" "),e("th",{},[t._v("Email")]),t._v(" "),e("th",{},[t._v("Phone")]),t._v(" "),e("th",{},[t._v("Fax")]),t._v(" "),e("th",{},[t._v("Primary Contact")]),t._v(" "),e("th",[t._v(" Действия ")])])])}],!1,null,"729d301a",null).exports}}]);