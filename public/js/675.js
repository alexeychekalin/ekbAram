(self.webpackChunk=self.webpackChunk||[]).push([[675],{2540:(t,e,i)=>{"use strict";i.d(e,{Z:()=>r});var a=i(3645),n=i.n(a)()((function(t){return t[1]}));n.push([t.id,".white-overlay[data-v-07fae1cb]{background-color:hsla(0,0%,100%,.75);height:100vh;left:0;margin:0;position:fixed;top:0;width:100vw;z-index:9999}.loader-wrapper[data-v-07fae1cb]{bottom:10vh;display:inline-block;position:absolute;right:10vw}.pulled-left[data-v-07fae1cb]{float:left;padding:10px 20px}*[data-v-07fae1cb],[data-v-07fae1cb]:after,[data-v-07fae1cb]:before{box-sizing:border-box}.wrapper[data-v-07fae1cb]{display:inline-block;font-size:0;height:40px;position:relative;width:40px}.spinner-container[data-v-07fae1cb]{-webkit-animation:container-rotate-data-v-07fae1cb 1568ms linear infinite;animation:container-rotate-data-v-07fae1cb 1568ms linear infinite;height:100%;width:100%}@-webkit-keyframes container-rotate-data-v-07fae1cb{to{transform:rotate(1turn)}\n\n;}@keyframes container-rotate-data-v-07fae1cb{to{transform:rotate(1turn)}\n\n;}.spinner-layer[data-v-07fae1cb]{height:100%;opacity:0;position:absolute;width:100%}.spinner-layer--blue[data-v-07fae1cb]{-webkit-animation:fill-unfill-rotate-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both,blue-fade-in-out-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:fill-unfill-rotate-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both,blue-fade-in-out-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both;border-color:#4285f4}.spinner-layer--red[data-v-07fae1cb]{-webkit-animation:fill-unfill-rotate-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both,red-fade-in-out-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:fill-unfill-rotate-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both,red-fade-in-out-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both;border-color:#db4437}.spinner-layer--yellow[data-v-07fae1cb]{-webkit-animation:fill-unfill-rotate-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both,yellow-fade-in-out-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:fill-unfill-rotate-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both,yellow-fade-in-out-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both;border-color:#f4b400}.spinner-layer--green[data-v-07fae1cb]{-webkit-animation:fill-unfill-rotate-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both,green-fade-in-out-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:fill-unfill-rotate-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both,green-fade-in-out-data-v-07fae1cb 5332ms cubic-bezier(.4,0,.2,1) infinite both;border-color:#0f9d58}@-webkit-keyframes fill-unfill-rotate-data-v-07fae1cb{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}to{transform:rotate(3turn)}\n\n;}@keyframes fill-unfill-rotate-data-v-07fae1cb{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}to{transform:rotate(3turn)}\n\n;}@-webkit-keyframes blue-fade-in-out-data-v-07fae1cb{0%{opacity:1}25%{opacity:1}26%{opacity:0}89%{opacity:0}90%{opacity:1}to{opacity:1}\n\n;}@keyframes blue-fade-in-out-data-v-07fae1cb{0%{opacity:1}25%{opacity:1}26%{opacity:0}89%{opacity:0}90%{opacity:1}to{opacity:1}\n\n;}@-webkit-keyframes red-fade-in-out-data-v-07fae1cb{0%{opacity:0}15%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}\n\n;}@keyframes red-fade-in-out-data-v-07fae1cb{0%{opacity:0}15%{opacity:0}25%{opacity:1}50%{opacity:1}51%{opacity:0}\n\n;}@-webkit-keyframes yellow-fade-in-out-data-v-07fae1cb{0%{opacity:0}40%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}\n\n;}@keyframes yellow-fade-in-out-data-v-07fae1cb{0%{opacity:0}40%{opacity:0}50%{opacity:1}75%{opacity:1}76%{opacity:0}\n\n;}@-webkit-keyframes green-fade-in-out-data-v-07fae1cb{0%{opacity:0}65%{opacity:0}75%{opacity:1}90%{opacity:1}to{opacity:0}\n\n;}@keyframes green-fade-in-out-data-v-07fae1cb{0%{opacity:0}65%{opacity:0}75%{opacity:1}90%{opacity:1}to{opacity:0}\n\n;}.spinner-clipper[data-v-07fae1cb]{border-color:inherit;display:inline-block;height:100%;overflow:hidden;position:relative;width:50%}.spinner-circle[data-v-07fae1cb]{-webkit-animation:none;animation:none;border:4px solid;border-color:inherit;border-bottom-color:transparent!important;border-radius:50%;bottom:0;height:100%;left:0;position:absolute;right:0;top:0;width:200%}.spinner-clipper--left .spinner-circle[data-v-07fae1cb]{-webkit-animation:left-spin-data-v-07fae1cb 1333ms cubic-bezier(.4,0,.2,1) infinite both;animation:left-spin-data-v-07fae1cb 1333ms cubic-bezier(.4,0,.2,1) infinite both;border-right-color:transparent!important;transform:rotate(129deg)}.spinner-clipper--right .spinner-circle[data-v-07fae1cb]{-webkit-animation:right-spin-data-v-07fae1cb 1333ms cubic-bezier(.4,0,.2,1) infinite both;animation:right-spin-data-v-07fae1cb 1333ms cubic-bezier(.4,0,.2,1) infinite both;border-left-color:transparent!important;left:-100%;transform:rotate(-129deg)}@-webkit-keyframes left-spin-data-v-07fae1cb{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}to{transform:rotate(130deg)}}@keyframes left-spin-data-v-07fae1cb{0%{transform:rotate(130deg)}50%{transform:rotate(-5deg)}to{transform:rotate(130deg)}}@-webkit-keyframes right-spin-data-v-07fae1cb{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}to{transform:rotate(-130deg)}}@keyframes right-spin-data-v-07fae1cb{0%{transform:rotate(-130deg)}50%{transform:rotate(5deg)}to{transform:rotate(-130deg)}}.spinner--patch[data-v-07fae1cb]{border-color:inherit;height:100%;left:45%;overflow:hidden;position:absolute;top:0;width:10%}.spinner--patch .spinner-circle[data-v-07fae1cb]{left:-450%;width:1000%}",""]);const r=n},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i=t(e);return e[2]?"@media ".concat(e[2]," {").concat(i,"}"):i})).join("")},e.i=function(t,i,a){"string"==typeof t&&(t=[[null,t,""]]);var n={};if(a)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(n[s]=!0)}for(var o=0;o<t.length;o++){var c=[].concat(t[o]);a&&n[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),e.push(c))}},e}},3379:(t,e,i)=>{"use strict";var a,n=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},r=function(){var t={};return function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}t[e]=i}return t[e]}}(),s=[];function o(t){for(var e=-1,i=0;i<s.length;i++)if(s[i].identifier===t){e=i;break}return e}function c(t,e){for(var i={},a=[],n=0;n<t.length;n++){var r=t[n],c=e.base?r[0]+e.base:r[0],l=i[c]||0,d="".concat(c," ").concat(l);i[c]=l+1;var f=o(d),u={css:r[1],media:r[2],sourceMap:r[3]};-1!==f?(s[f].references++,s[f].updater(u)):s.push({identifier:d,updater:h(u,e),references:1}),a.push(d)}return a}function l(t){var e=document.createElement("style"),a=t.attributes||{};if(void 0===a.nonce){var n=i.nc;n&&(a.nonce=n)}if(Object.keys(a).forEach((function(t){e.setAttribute(t,a[t])})),"function"==typeof t.insert)t.insert(e);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var d,f=(d=[],function(t,e){return d[t]=e,d.filter(Boolean).join("\n")});function u(t,e,i,a){var n=i?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(t.styleSheet)t.styleSheet.cssText=f(e,n);else{var r=document.createTextNode(n),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function p(t,e,i){var a=i.css,n=i.media,r=i.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var v=null,b=0;function h(t,e){var i,a,n;if(e.singleton){var r=b++;i=v||(v=l(e)),a=u.bind(null,i,r,!1),n=u.bind(null,i,r,!0)}else i=l(e),a=p.bind(null,i,e),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(i)};return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else n()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n());var i=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var a=0;a<i.length;a++){var n=o(i[a]);s[n].references--}for(var r=c(t,e),l=0;l<i.length;l++){var d=o(i[l]);0===s[d].references&&(s[d].updater(),s.splice(d,1))}i=r}}}},1227:(t,e,i)=>{t.exports=i(4143)},4143:(t,e,i)=>{"use strict";i.d(e,{default:()=>c});const a={props:{label:{default:"Loading..."},show:{default:!1},overlay:{default:!0},loaderClass:{default:"loader-wrapper"},overlayClass:{default:"white-overlay"},eventBus:{default:null},eventShow:{default:"show-full-loading"},eventHide:{default:"hide-full-loading"}},data:()=>({showing:!1}),watch:{show(t){this.showing=t}},methods:{showMe(){this.showing=!0},hideMe(){this.showing=!1},registerBusMethods(){this.eventBus.$on(this.eventShow,this.showMe),this.eventBus.$on(this.eventHide,this.hideMe)}},mounted(){this.eventBus&&this.registerBusMethods()}};var n=i(3379),r=i.n(n),s=i(2540),o={insert:"head",singleton:!1};r()(s.Z,o);s.Z.locals;const c=(0,i(1900).Z)(a,(function(){var t,e=this,i=e.$createElement,a=e._self._c||i;return a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[e.showing?a("div",{class:(t={},t[e.overlayClass]=e.overlay,t)},[e._t("loading-container",(function(){return[a("div",{class:e.loaderClass},[e._t("loading-text",(function(){return[a("div",{staticClass:"pulled-left",domProps:{innerHTML:e._s(e.label)}})]})),e._v(" "),e._t("loading-spinner",(function(){return[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"spinner-container"},[a("div",{staticClass:"spinner-layer spinner-layer--blue"},[a("div",{staticClass:"spinner-clipper spinner-clipper--left"},[a("div",{staticClass:"spinner-circle"})]),e._v(" "),a("div",{staticClass:"spinner--patch"},[a("div",{staticClass:"spinner-circle"})]),e._v(" "),a("div",{staticClass:"spinner-clipper spinner-clipper--right"},[a("div",{staticClass:"spinner-circle"})])]),e._v(" "),a("div",{staticClass:"spinner-layer spinner-layer--red"},[a("div",{staticClass:"spinner-clipper spinner-clipper--left"},[a("div",{staticClass:"spinner-circle"})]),e._v(" "),a("div",{staticClass:"spinner--patch"},[a("div",{staticClass:"spinner-circle"})]),e._v(" "),a("div",{staticClass:"spinner-clipper spinner-clipper--right"},[a("div",{staticClass:"spinner-circle"})])]),e._v(" "),a("div",{staticClass:"spinner-layer spinner-layer--yellow"},[a("div",{staticClass:"spinner-clipper spinner-clipper--left"},[a("div",{staticClass:"spinner-circle"})]),e._v(" "),a("div",{staticClass:"spinner--patch"},[a("div",{staticClass:"spinner-circle"})]),e._v(" "),a("div",{staticClass:"spinner-clipper spinner-clipper--right"},[a("div",{staticClass:"spinner-circle"})])]),e._v(" "),a("div",{staticClass:"spinner-layer spinner-layer--green"},[a("div",{staticClass:"spinner-clipper spinner-clipper--left"},[a("div",{staticClass:"spinner-circle"})]),e._v(" "),a("div",{staticClass:"spinner--patch"},[a("div",{staticClass:"spinner-circle"})]),e._v(" "),a("div",{staticClass:"spinner-clipper spinner-clipper--right"},[a("div",{staticClass:"spinner-circle"})])])])])]}))],2)]}))],2):e._e()])}),[],!1,null,"07fae1cb",null).exports},1675:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>n});const a={name:"AllParts",data:function(){return{pn:"",description:"",result:"",results:[],allresults:[],val:"",id:"",fields:{ID:"id","P/N":"pn",Описание:"description"},show2:!1,label:"Loading..."}},components:{loading:i(1227).default},methods:{getParts:function(){var t=this;axios.get("/api/parts",{withCredentials:!0}).then((function(e){t.$data.results=e.data,t.$data.allresults=e.data}))},filter:function(t){var e,i=this;if(""===t)this.results=this.allresults;else{this.results=this.allresults;this.results=(e=t,i.$data.results.filter((function(t){return t.pn.toLowerCase().indexOf(e.toLowerCase())>-1})))}},show:function(t){UIkit.modal("#modal-change").show(),this.id=t[0],this.pn=t[1],this.description=t[2]},updateParts:function(t){var e=this;this.show2=!0,axios.post("/api/parts/update",{id:this.id,pn:this.pn,description:this.description}).then((function(t){e.show2=!1,UIkit.notification({message:"Позиция обновлена"}),UIkit.modal("#modal-change").hide()})).catch((function(t){t.response.data;e.show2=!1,UIkit.notification({message:"Ошибка изменения. Обратитесь к администратору"})})).finally((function(){UIkit.modal("#modal-change").hide(),e.getParts()}))},deleteParts:function(t){var e=this;this.show2=!0,axios.post("/api/parts/delete",{id:t[0],pn:"null",description:"null"}).then((function(i){e.show2=!1,UIkit.notification({message:"Позиция удалена"}),e.results.splice(t[1],1),e.allresults.splice(t[1],1)})).catch((function(t){t.response.data;e.show2=!1,UIkit.notification({message:"Ошибка удаления. Данная позиция добавлена в заказ!"})})).finally((function(){UIkit.modal("#modal-change").hide(),e.getParts()}))}},mounted:function(){this.getParts()}};const n=(0,i(1900).Z)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"uk-width-1-1 uk-padding uk-padding-remove-top"},[i("loading",{attrs:{show:t.show2,label:t.label}}),t._v(" "),i("h1",{staticClass:"uk-text-center"},[t._v("Список всех позиций")]),t._v(" "),i("div",{attrs:{id:"modal-change","uk-modal":""}},[i("div",{staticClass:"uk-modal-dialog uk-modal-body uk-margin-auto-vertical"},[i("div",{staticClass:"uk-margin uk-modal-container-large"},[i("h3",{staticClass:"uk-card-title"},[t._v("Редактирование позиции")]),t._v(" "),i("div",{staticClass:"uk-grid-small",attrs:{"uk-grid":""}},[i("form",{staticClass:"uk-width-1-1",on:{submit:function(e){return e.preventDefault(),t.updateParts()}}},[i("div",{staticClass:"uk-grid-match uk-child-width-1-1@s",attrs:{"uk-grid":""}},[i("div",[i("div",{staticClass:"uk-card-default uk-card-body"},[i("div",{staticClass:"uk-grid-small",attrs:{"uk-grid":""}},[i("div",{staticClass:"uk-width-1-4@s"},[i("label",{staticClass:"uk-form-label"},[t._v("P/N")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.pn,expression:"pn"}],staticClass:"uk-input",attrs:{type:"text",required:"",placeholder:"",required:""},domProps:{value:t.pn},on:{input:function(e){e.target.composing||(t.pn=e.target.value)}}})]),t._v(" "),i("div",{staticClass:"uk-width-3-4@s"},[i("label",{staticClass:"uk-form-label"},[t._v("Описание")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"uk-input",attrs:{type:"text",required:"",placeholder:""},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])])]),t._v(" "),i("button",{staticClass:"uk-button uk-button-primary uk-width-1-3@m uk-width-1-1@s uk-align-center uk-margin-bottom"},[t._v(" Сохранить ")])])])])])])])]),t._v(" "),i("div",{staticClass:"uk-card-default uk-card-small uk-card-hover"},[i("div",{staticClass:"uk-card-header"},[i("div",{staticClass:"uk-grid uk-grid-small"},[i("div",{staticClass:"uk-width-expand"},[i("div",{staticClass:"uk-inline uk-width-1-1"},[i("span",{staticClass:"uk-form-icon uk-form-icon-flip",attrs:{"data-uk-icon":"icon: search"}}),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"uk-input uk-width-1-1 search-fld",attrs:{type:"text",placeholder:"Поиск по P/N"},domProps:{value:t.val},on:{input:[function(e){e.target.composing||(t.val=e.target.value)},function(e){return t.filter(t.val)}]}})])])])]),t._v(" "),i("div",{staticClass:"uk-card-body uk-margin-medium-bottom uk-padding-remove-top"},[i("div",{staticClass:"form-container uk-overflow-auto"},[i("table",{staticClass:"uk-table uk-table-hover uk-table-middle uk-table-divider",staticStyle:{"background-color":"white"}},[t._m(0),t._v(" "),t._l(t.results,(function(e,a){return i("tbody",{attrs:{id:e.id}},[i("tr",[i("td",[t._v(t._s(a+1))]),t._v(" "),i("td",[t._v(t._s(e.pn||"-"))]),t._v(" "),i("td",{staticClass:"uk-text-nowrap"},[t._v(t._s(e.description||"-"))]),t._v(" "),i("td",[i("ul",{staticClass:"uk-iconnav"},[i("li",[i("a",{attrs:{"uk-icon":"icon: file-edit","uk-tooltip":"Редактировать"},on:{click:function(i){return i.preventDefault(),t.show([e.id,e.pn,e.description])}}})]),t._v(" "),i("li",[i("a",{attrs:{"uk-icon":"icon: trash","uk-tooltip":"title: Удалить; pos: bottom"},on:{click:function(i){return i.preventDefault(),t.deleteParts([e.id,a])}}})])])])])])}))],2)])])])],1)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"uk-table-shrink"},[t._v("#")]),t._v(" "),i("th",{},[t._v("P/N")]),t._v(" "),i("th",{},[t._v("Описание")]),t._v(" "),i("th",{},[t._v("Действия")])])])}],!1,null,"1f8c1fe9",null).exports}}]);