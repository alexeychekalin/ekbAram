"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[177],{4166:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(3645),s=n.n(a)()((function(e){return e[1]}));s.push([e.id,".uk-notification[data-v-43e8e7a0]{background-color:#0f6ecd}",""]);const r=s},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(a)for(var r=0;r<this.length;r++){var i=this[r][0];null!=i&&(s[i]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);a&&s[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},3379:(e,t,n)=>{var a,s=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},r=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function o(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},a=[],s=0;s<e.length;s++){var r=e[s],l=t.base?r[0]+t.base:r[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=o(u),v={css:r[1],media:r[2],sourceMap:r[3]};-1!==d?(i[d].references++,i[d].updater(v)):i.push({identifier:u,updater:m(v,t),references:1}),a.push(u)}return a}function c(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var s=n.nc;s&&(a.nonce=s)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var i=r(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function v(e,t,n,a){var s=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,s);else{var r=document.createTextNode(s),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(r,i[t]):e.appendChild(r)}}function p(e,t,n){var a=n.css,s=n.media,r=n.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var f=null,h=0;function m(e,t){var n,a,s;if(t.singleton){var r=h++;n=f||(f=c(t)),a=v.bind(null,n,r,!1),s=v.bind(null,n,r,!0)}else n=c(t),a=p.bind(null,n,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=s());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var s=o(n[a]);i[s].references--}for(var r=l(e,t),c=0;c<n.length;c++){var u=o(n[c]);0===i[u].references&&(i[u].updater(),i.splice(u,1))}n=r}}}},3177:(e,t,n)=>{n.r(t),n.d(t,{default:()=>l});const a={name:"NewUser",data:function(){return{name:"",phone:"",prefix:"",password:"",role:"",result:"",results:[],roles:["Админ","Менеджер"],checkedTel:""}},methods:{newUser:function(){var e=this;"uk-form-success"===this.checkedTel?axios.post("/api/users",{name:this.name,password:this.password,phone:this.phone,prefix:this.prefix,role:this.role}).then((function(t){UIkit.notification({message:"Пользователь добавлен!",status:"success"}),e.$data.results.push({name:e.name,phone:e.phone,prefix:e.prefix,role:e.role}),e.name="",e.prefix="",e.password="",e.role="",e.phone="",e.checkedTel=""})).catch((function(e){UIkit.notification({message:e,status:"danger"})})):UIkit.notification({message:"Пользователь с данным номером существует в системе"})},checkPhone:function(){var e=this;""!==this.phone&&axios.post("/api/check/phone",{Phone:this.phone}).then((function(t){console.log(t),0==t.data.length?e.$data.checkedTel="uk-form-success":(e.$data.checkedTel="uk-form-danger",UIkit.notification({message:"Пользователь с данным номером существует в системе"}))})).catch((function(e){UIkit.notification({message:e,status:"danger"})}))}},mounted:function(){}};var s=n(3379),r=n.n(s),i=n(4166),o={insert:"head",singleton:!1};r()(i.Z,o);i.Z.locals;const l=(0,n(1900).Z)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"uk-grid-small uk-padding-remove-top uk-padding"},[n("h1",{staticClass:"uk-text-center"},[e._v("Добавление пользователей")]),e._v(" "),n("form",{staticClass:"uk-width-1-1",on:{submit:function(t){return t.preventDefault(),e.newUser()}}},[n("div",{staticClass:"uk-grid-match uk-child-width-1-1@s",attrs:{"uk-grid":""}},[n("div",[n("div",{staticClass:"uk-card-default uk-card-body"},[n("div",{staticClass:"uk-grid-small",attrs:{"uk-grid":""}},[n("div",{staticClass:"uk-width-1-3@s"},[n("label",{staticClass:"uk-form-label"},[e._v("ФИО")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"uk-input",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"uk-width-1-3@s"},[n("label",{staticClass:"uk-form-label"},[e._v("Телефон")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],staticClass:"uk-input",class:e.checkedTel,attrs:{type:"text",placeholder:"",required:"",pattern:"\\d+"},domProps:{value:e.phone},on:{blur:e.checkPhone,input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"uk-width-1-3@s"},[n("label",{staticClass:"uk-form-label"},[e._v("Пароль")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"uk-input",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"uk-width-1-3@s"},[n("label",{staticClass:"uk-form-label"},[e._v("Префикс")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.prefix,expression:"prefix"}],staticClass:"uk-input",attrs:{type:"text",placeholder:"",required:""},domProps:{value:e.prefix},on:{input:function(t){t.target.composing||(e.prefix=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"uk-width-1-3@s"},[n("label",{staticClass:"uk-form-label"},[e._v("Роль")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"uk-select",attrs:{required:""},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.role=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"1"}},[e._v("Админ")]),e._v(" "),n("option",{attrs:{value:"2"}},[e._v("Менеджер")])])])])]),e._v(" "),n("button",{staticClass:"uk-button uk-button-primary uk-width-1-3@m uk-width-1-1@s uk-align-center uk-margin-bottom"},[e._v(" Сохранить ")])])])]),e._v(" "),0!=e.results.length?n("table",{staticClass:"uk-table uk-table-hover uk-table-middle uk-table-divider",staticStyle:{"background-color":"white"}},[e._m(0),e._v(" "),e._l(e.results,(function(t,a){return n("tbody",[n("tr",[n("td",[e._v(e._s(a+1))]),e._v(" "),n("td",[e._v(e._s(t.name||"-"))]),e._v(" "),n("td",{staticClass:"uk-text-nowrap"},[e._v(e._s(t.phone||"-"))]),e._v(" "),n("td",[e._v(e._s(t.prefix||"-"))]),e._v(" "),n("td",{staticClass:"uk-text-nowrap"},[e._v(e._s(e.roles[t.role-1]))])])])}))],2):e._e()])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("thead",[n("tr",[n("th",{staticClass:"uk-table-shrink"},[e._v("#")]),e._v(" "),n("th",{},[e._v("ФИО")]),e._v(" "),n("th",{},[e._v("Телефон")]),e._v(" "),n("th",{},[e._v("Префикс")]),e._v(" "),n("th",{},[e._v("Роль")])])])}],!1,null,"43e8e7a0",null).exports}}]);